<h1>You're joining session <span id="session_id_header">?</span></h1>

<button onClick="joinSession()">Join session</button>

<script type="text/javascript">
  const params     = new URLSearchParams(location.search),
        session_id = params.get('session_id'),
        header     = document.getElementById('session_id_header');

  console.log('session_id =', session_id);
  header.innerText = session_id;

  window.joinSession = function() {
    fetch('https://v0zvhubsma.execute-api.eu-central-1.amazonaws.com/prod/session/join',
      {
        'method': 'POST',
        'headers': {
        },
        'body': JSON.stringify({
          'session_id': session_id
        })
      })
      .then((r) => r.json())
      .then((j) => {
        console.log('response:', j);
      });
  };
</script>
